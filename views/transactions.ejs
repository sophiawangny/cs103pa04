
<h1>Transactions for <%= user.username %> </h1>
<p>Here is your list of things to do!</p>



<% if (transactions.length > 0) { %>
    <table class="table table-striped">
      <thead>
        <tr>
          <a  class="btn btn-primary" href="/transactions/category">  group by category </a>  &nbsp;
          <a  class="btn btn-primary"  href="?sort=category"> sort by category </a>    &nbsp;
          <a  class="btn btn-primary"  href="?sort=amount"> sort by amount </a>   &nbsp;
          <a  class="btn btn-primary" href="?sort=description" > sort by description </a>   &nbsp;
          <a  class="btn btn-primary" href="?sort=date" > sort by date </a>
        </tr>
      </thead>
      <thead>
        <tr>
          <th>description</th>
          <th>amount</th>
          <th>category</th>
          <th>date</th>
          <th>delete</th>
          <th>edit</th>
        </tr>
      </thead>
      <tbody>
        <% transactions.forEach(function(transaction) { %>
          <tr>
            <td><%= transaction.description %></td>
            <td><%= transaction.amount %></td>
            <td><%= transaction.category %></td>
            <td><%= transaction.date %></td>
            <td> <a href="/transactions/remove/<%= transaction._id %>"><i class="bi bi-trash"></i></a> </td>
            <td> <a href="/transactions/edit/<%= transaction._id %>"><i class="bi bi-pencil-square"></i></a> </td>
          </tr>
        <% }); %>
      </tbody>
    </table>


    <% } else {  %>

<p> You currently have no transactions. Make some below if you'd like! </p>
    <% }  %>


<h1>Add a New Transaction</h1>
<form method="post" action="transactions"> <!--not sure if action should be this?-->
 
  <div>
    <input type="text" name="description" id="description" placeholder="description"  required>
  </div>
      <div>
        <input for="category" type="text" name="category" id="category" placeholder="category"  required>
      </div>
      <div>
        <input  for="amount" name="amount" id="amount" placeholder="amount" required>
      </div>
      <div>
        <input for="date" type="date" name="date" id="date" placeholder="mm/dd/yyyy" required>
      </div>
      
      <button type="submit">store</button>
</form>